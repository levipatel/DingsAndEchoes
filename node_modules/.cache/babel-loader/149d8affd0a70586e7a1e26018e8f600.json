{"ast":null,"code":"import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport var createNativeMediaStreamAudioDestinationNodeFactory = function createNativeMediaStreamAudioDestinationNodeFactory(createNativeAudioNode, createNotSupportedError) {\n  return function (nativeAudioContext, options) {\n    // Bug #64: Edge does not support MediaStreamAudioDestinationNodes.\n    if (nativeAudioContext.createMediaStreamDestination === undefined) {\n      throw createNotSupportedError();\n    }\n\n    var nativeMediaStreamAudioDestinationNode = createNativeAudioNode(nativeAudioContext, function (ntvDCntxt) {\n      return ntvDCntxt.createMediaStreamDestination();\n    });\n    assignNativeAudioNodeOptions(nativeMediaStreamAudioDestinationNode, options); // Bug #174: Safari does expose a wrong numberOfOutputs.\n\n    if (nativeMediaStreamAudioDestinationNode.numberOfOutputs === 1) {\n      Object.defineProperty(nativeMediaStreamAudioDestinationNode, 'numberOfOutputs', {\n        get: function get() {\n          return 0;\n        }\n      });\n    }\n\n    return nativeMediaStreamAudioDestinationNode;\n  };\n};","map":{"version":3,"sources":["../../../src/factories/native-media-stream-audio-destination-node-factory.ts"],"names":[],"mappings":"AAAA,SAAS,4BAAT,QAA6C,6CAA7C;AAGA,OAAO,IAAM,kDAAkD,GAAyD,SAA3G,kDAA2G,CACpH,qBADoH,EAEpH,uBAFoH,EAGpH;AACA,SAAO,UAAC,kBAAD,EAAqB,OAArB,EAAgC;AACnC;AACA,QAAI,kBAAkB,CAAC,4BAAnB,KAAoD,SAAxD,EAAmE;AAC/D,YAAM,uBAAuB,EAA7B;AACH;;AAED,QAAM,qCAAqC,GAAG,qBAAqB,CAAC,kBAAD,EAAqB,UAAC,SAAD,EAAc;AAClG,aAAO,SAAS,CAAC,4BAAV,EAAP;AACH,KAFkE,CAAnE;AAIA,IAAA,4BAA4B,CAAC,qCAAD,EAAwC,OAAxC,CAA5B,CAVmC,CAYnC;;AACA,QAAI,qCAAqC,CAAC,eAAtC,KAA0D,CAA9D,EAAiE;AAC7D,MAAA,MAAM,CAAC,cAAP,CAAsB,qCAAtB,EAA6D,iBAA7D,EAAgF;AAAE,QAAA,GAAG,EAAE;AAAA,iBAAM,CAAN;AAAA;AAAP,OAAhF;AACH;;AAED,WAAO,qCAAP;AACH,GAlBD;AAmBH,CAvBM","sourceRoot":"","sourcesContent":["import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';\nexport const createNativeMediaStreamAudioDestinationNodeFactory = (createNativeAudioNode, createNotSupportedError) => {\n    return (nativeAudioContext, options) => {\n        // Bug #64: Edge does not support MediaStreamAudioDestinationNodes.\n        if (nativeAudioContext.createMediaStreamDestination === undefined) {\n            throw createNotSupportedError();\n        }\n        const nativeMediaStreamAudioDestinationNode = createNativeAudioNode(nativeAudioContext, (ntvDCntxt) => {\n            return ntvDCntxt.createMediaStreamDestination();\n        });\n        assignNativeAudioNodeOptions(nativeMediaStreamAudioDestinationNode, options);\n        // Bug #174: Safari does expose a wrong numberOfOutputs.\n        if (nativeMediaStreamAudioDestinationNode.numberOfOutputs === 1) {\n            Object.defineProperty(nativeMediaStreamAudioDestinationNode, 'numberOfOutputs', { get: () => 0 });\n        }\n        return nativeMediaStreamAudioDestinationNode;\n    };\n};\n//# sourceMappingURL=native-media-stream-audio-destination-node-factory.js.map"]},"metadata":{},"sourceType":"module"}